{% extends 'pricemonitor/base.html' %}
{% load static %}

{% block title %}
    <title>Lista serwisów - Monitoruj ceny i kupuj mądrze</title>
{% endblock %}


{% block content %}
<div class="container flex flex-col justify-between px-6 mx-auto mt-10 mb-16 space-y-0 md:space-y-0 space-x-4 md:min-w-full">
    <div class="mb-16">
        <h3 class="max-w-md text-4xl font-bold px-6 text-start text-black md:text-5xl md:min-w-full">Sklepy dostępne w naszym serwisie</h3>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2">
    {% for service in object_list %}
        {% if user.profile.role == 'regular' %}
            {% if service.status == 'a' %}
                <div class="max-w-sm pt-10 mb-16 border border-gray-200 rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700">
                    <img class="object-scale-down h-24 w-96" src="/static/img/service/{{ service.service_name }}.svg" alt="" />
                    <div class="flex flex-col p-5 items-center">
                        <a href="https://{{ service.host}}" target="_blank">{{ service.host }}</a>
                        <a href="{% url 'servicedetail' service.id %}" class="inline-grid min-w-full m-3 p-3 px-6 text-center bg-pewter_blue rounded-full hover:bg-indigo_dye hover:text-white">
                            Więcej
                        </a>
                    </div>
                </div>
            {% endif %}
        {% else %}
        <div class="max-w-sm pt-10 mb-16 border border-gray-200 rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700">
            <img class="object-scale-down h-24 w-96" src="/static/img/service/{{ service.service_name }}.svg" alt="" />
            <div class="flex flex-col p-5 items-center">
                <a href="https://{{ service.host}}" target="_blank">{{ service.host }}</a>
                <p>{{ service.get_status_display }}</p>
                <a href="{% url 'servicedetail' service.id %}" class="inline-grid min-w-full m-3 p-3 px-6 text-center bg-pewter_blue rounded-full hover:bg-indigo_dye hover:text-white">
                    Więcej
                </a>
            </div>
        </div>
        {% endif %}    
    {% empty %}
    <div class="max-w-md mb-16 text-4xl font-bold text-start md:text-5xl">
        <h1 class="max-w-md text-4xl font-bold text-center text-ebony md:text-5xl md:text-left">
            Jeszcze nie śledzisz żadnych serwisów
        </h1>
    </div>
    {% endfor %}
    </div> 
    <div class="flex flex-col mb-32">
        <div class="items-right justify-between">
            <a href="{% url 'servicecreate' %}" class="inline-grid min-w-full m-3 p-3 px-6 text-center bg-pewter_blue rounded-full hover:bg-indigo_dye hover:text-white">Dodaj sklep</a>
        </div>
        <div class="items-right justify-between">
            <a href="{% url 'home' %}" class="inline-grid m-3 p-3 px-6 text-center bg-pewter_blue rounded-full hover:bg-indigo_dye hover:text-white">Powrót do strony głównej</a>
        </div>
    </div>
</div>
{% endblock %}
